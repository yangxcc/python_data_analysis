# python数据分析
## python数据分析概述
数据分析是指选用适当的方法对收集来的大量数据进行分析，提取到有用的信息和形成结论，对数据加以详细研究和概括总结的过程。<br>
广义的数据分析包括狭义的数据分析和数据挖掘两部分，狭义的数据分析是指根据分析目的，采用对比分析、分组分析、交叉分析和回归分析等方法，对收集的数据进行处理和分析，提取有价值的信息，发挥数据的作用，得到一个特征统计量的过程。数据挖掘则是从大量的、不完全的、有噪声的、模糊的、随机的实际应用数据中，通过应用聚类模型、分类模型、回归和关联规则等技术，挖掘潜在价值的过程。<br>
在学习完基本知识后，我总结出的数据分析的基本流程为 ![](https://github.com/yangxcc/python_data_analysis/blob/master/image/%E6%B5%81%E7%A8%8B.png)<br>
* 首先，我认为在做数据分析时第一部永远都是先获得数据，然后再去验证数据来源的可靠性等，然后再去理解数据，尝试提出一些能够由数据得出的问题。
* 第二，在数据分析时，数据预处理会占据大部分的时间与工作量，因为只有保证了原始数据的质量，才能够保证最后结论的质量。
* 第三，python中有着大量的第三库可供调用，但是实际问题要实际分析，只有在懂的原理的情况下才能够更好地处理数据，优化数据。
* 最后，我认为python在处理数据时存在着天然的优势，列表、元组等结构的存在为数据分析提供了很大的便利，excel能做到的python也可以做到，但是python能够做到的excel不一定能，比如在输出方面用语言处理就方便得多。
目前常用的数据分析工具有python，R，matlab三种，没有所谓的优劣，使用场景有差异，学习的难易程度也有差异。
## NumPy数值计算
Numpy主要用于数学计算，例如矩阵积计算。在了解NumPy之前需要明确一个概念**数据的维度**
### 数据的维度
* 一维数据是线性的，对应列表、元组、集合等概念。数组不同于列表，列表中的元素数据类型可以不同，而数组中元素的数据类型必须相同。
* 二维数据由多个一维数据构成，是一维数据的组合形式，表格就是最典型的二维数据。
* 多维数据由一维或二维数据在新维度上扩展形成，例如五年间同种格式的出纳单表格，增加了时间的维度。高维数据仅利用最基本的二元关系，利用键值对将数据组织起来，这里我们很快想到了Python中的字典类型和json格式。
### NumPy简介
NumPy是一个开源的Python科学计算基础库，是SciPy、Pandas等数据处理或科学计算库的基础，包含一个强大的N维数组对象ndarray。基于NumPy的算法要比纯Python快10到100倍（甚至更快），并且使用的内存更少。NumPy 最重要的一个特点是其 N 维数组对象 ndarray，它是一系列同类型数据的集合，以 0 下标为开始进行集合中元素的索引。<br>**创建数组**我们使用np.array()生成一个ndarray数组，比如np.array([[2,3,4,5],[2,2,2,2]])，创建数组还有很多其他的方法，比如np.arange()等，创建特殊数组np.zeros()等。ndarray数组也可以由非同质对象构成，例如：np.array([1,1,1,1],[1,1,1])<br>**数组对象属性**所说的数组的轴(axis)是数据的维度，而数组的秩(rank)是数组轴的数量，在 NumPy中，每一个线性的数组称为是一个轴（axis），也就是维度（dimensions）。比如说，二维数组相当于是两个一维数组，其中第一个一维数组中每个元素又是一个一维数组。所以一维数组就是 NumPy 中的轴（axis），第一个轴相当于是底层数组，第二个轴是底层数组里的数组。而轴的数量——秩，就是数组的维数。我们可以用astype转换数据类型，np.astype(xxx)，其中的参数可以是数组，列表等。<br>**基本的索引和切片**其中需要注意的是`冒号的使用`，关于冒号:的解释：如果只放置一个参数，如a = np.arange(10)  print(a[2:])， [2:]表示从该索引开始以后的所有项都将被提取。如果使用了两个参数，如 [2:7]，那么则提取两个索引(不包括停止索引)之间的项。上述的切片操作对多维数组同样适用，对于冒号的使用，如下图（左边的是横轴右边的是竖轴，只有冒号”表示选取整个轴，切片同Python，带左边的数不到右边的数。）![](https://github.com/yangxcc/python_data_analysis/blob/master/image/2.png)<br>需要注意的是，Python中的and、or在布尔型数组中是无效的可以使用&（和）、|（或）之类的布尔算术运算符进行组合操作。<br>
**高级索引** x = np.array([[1,  2],  [3,  4],  [5,  6]])  y = x[[0,1,2],  [0,1,0]]  上述获取x数组中(0,0)，(1,1)和(2,0)位置处的元素。<br>
**其他** 在进行数据分析时，可以使用NumPy中封装好的函数来对数组进行提取、分割等操作，在得到数据的基础上也可以直接调用统计学方法来对数据进行统计（比如sum(),mean()等，他们也可以选择某一特定的维度，即可以接受axis参数等）；NumPy数组也可以通过sort方法就地排序，多维数组可以在任何一个轴向上进行排序，只需将轴编号传给sort即可；NumPy还可以生成伪随机数，伪随机数是用确定性的算法计算出来的似来自[0,1]均匀分布的随机数序列（例如正态分布）。并不真正的随机，但具有类似于随机数的统计特征，如均匀性、独立性等。
## Pandas数据分析
Pandas是一个基于NumPy的数据分析包，Pandas的数据结构包括：<br>
* Series，一种类似于一维数组的对象，它是由一组数据（各种NumPy数据类型）以及一组与之相关的数据标签（即索引组成），仅有一组数据即可产生简单的Series
* DataFrame，一种表格型的数据结构（二维），含有一组有序的列，每列可以是不同的值类型（数值，字符串，布尔值等），DataFrame既有行索引也有列索引，可以被看作是由Series组成的字典。
**Series**对象本质上是由两个数组组成，一个数组构成对象的键（index,索引），另一个数组构成对象的值（values），Series对象的创建可以通过以下3种方法：
* 通过一维数组创建，例如：series = pandas.Series([1,2,3,4],index=["语文","数学"，"英语","政治"])
* 通过字典的方式创建，dict = {'key1':'value1','key2':'value2'}   series = pandas.Series(dict)
* 标量值，index表示Series类型的尺寸，如series = pandas.Series(25,["a","b","c"])结果为abc上个索引的值均为25
此外，NumPy中运算和操作可用于Series类型，比如np.exp(series)表示的就是对series中的值进行e的幂次方运算。不同Series之间进行算术运算，会自动对齐不同索引的数据。Series类型的操作类似于Python字典类型，可以通过**自定义索引**访问，通过**保留字in**操作访问，使用 **get()方法**访问。Series对象本身及其索引都有一个name属性，可以通过此属性来定义名称<br>
**DataFrame**对象既有行索引，又有列索引，行索引表明不同的行，横向索引叫做index，0轴，axis=0；列索引表明不同的列，列索引叫做column，1轴，axis=1，DataFrame对象的创建可以通过以下4种方法确定：<br>
* 二维ndarray对象，如 df = pd.DataFrame(np.arange(10).reshape(2,5))
* 通过列表的方式创建DataFrame，如 df1 = pd.DataFrame([["tom","bob","tony"],[1,2,3]])或者arr = [["tom",1],["tony":3]]  df2 = pd.DataFrame(arr,index=[1,2],column=["one","two"])
* 通过字典的方式创建DataFrame,如 data={'data':[1,2,3],'year':[4,5,6]}  df = pd.DataFrame(data)
* Series类型和其他DataFrame对象（比如打开一个csv文件，将其转换成dataframe格式）
**层次化索引**在某个方向上拥有多个(两个或两个以上)索引级别，通过层次化索引，pandas可以通过低纬度形式来操作高维度数据，通过层次化索引，可以按层级统计数据。如下图：![](https://github.com/yangxcc/python_data_analysis/blob/master/image/%E5%B1%82%E6%AC%A1%E5%8C%96%E7%B4%A2%E5%BC%95%E7%A4%BA%E4%BE%8B.png)<br>
#### 利用Pandas读写数据
以csv文件为例，读取csv文件:pd.read_csv(),将数据写入csv文件:pd.to_csv()<br>
Pandas库在机器学习项目中的应用主要有两个步骤：（1）读取文件，（2）数据清洗和编辑工作，该步骤中，我们常常需要借组numpy数组来处理数据。
## Matplotlib数据可视化
数据可视化是形象展示数据的主要手段，也是数据分析的重要组成部分，matplotlib是一个基于Python的图形可视化工具，支持多种图形的绘制，并支持完整的图标样式和个性化设置。matplotlib能够创建多数的图表，如线型图、散点图、柱状图、直方图、饼图、箱型图、三维图等，matplotlib绝大多数情况要与numpy，pandas一起使用，将他们处理后的数据可视化表示出来，使用matplotlib的可操作性很强，他可以通过方法中的属性设置图片的子图、坐标轴，颜色等将数据更好地表示出来，其中重要的方法就是plt.plot()与plt.show()
## Sklearn机器学习
此仓库中有关机器学习算法只是简单的应用，并未涉及算法的理论依据和数学推导，具体实现请见本人其他仓库。。。。。<br>
机器学习是通过让机器对已知样本进行学习，然后对更多的未知样本进行预测的过程。机器学习可以分成两类：监督学习和无监督学习。 **监督学习**通过所有特征已知的训练集让机器学习其中的规律，然后再向机器提供有一部分特征未知的数据集，让机器帮补全其中未知部分的一种方法。主要包括`分类和回归`两类。**无监督学习**无监督学习不会为机器提供正确的样本学习，而是靠机器自己去寻找可以参考的依据，通常使用距离函数或者凸包理论等方式对给定的数据集进行聚类。例如，对按照用户访问网站的行为将用户分成不同的类型。 <br>
Sklearn 算法主要有四类：分类、回归、聚类、降维 
* 常用的回归：线性、决策树、SVM、KNN 
* 集成回归：随机森林、Adaboost、GradientBoosting、Bagging、ExtraTrees 
* 常用的分类：线性、决策树、SVM、KNN、朴素贝叶斯 
* 集成分类：随机森林、Adaboost、GradientBoosting、Bagging、ExtraTrees 
* 常用聚类：k 均值（k-means）、层次聚类（ Hierarchical clustering）、 DBSCAN 
* 常用降维：LinearDiscriminantAnalysis、PCA 


## 整个的学习图谱
![](https://github.com/yangxcc/python_data_analysis/blob/master/image/1.png)
